apiVersion: v1
data:
   readonlyrest.yml: |
     readonlyrest:
       access_control_rules:
       
       - name: "::KIBANA-SRV::"
         #verbosity: error
         auth_key: kibana:kibana

       - name: "Bearer token"
         headers: ["Authorization:Bearer ${KIBANA_SERVICE_ACCOUNT_TOKEN}"]
     
       - name: "PROBE"
         #verbosity: error
         auth_key: "elastic-internal-probe:${INTERNAL_PROBE_PASS}"

       - name: "ELASTIC-INTERNAL"
         #verbosity: error
         auth_key: "elastic-internal:${INTERNAL_USR_PASS}"

       - name: "CONTAINER ADMIN - file"
         type: allow
         auth_key: "admin:container"
     
       - name: "User 1"
         type: allow
         auth_key: "user1:test"
         indices: [".kibana*", "kibana*"]
         kibana_access: ro

kind: ConfigMap
metadata:
  name: ror-config
